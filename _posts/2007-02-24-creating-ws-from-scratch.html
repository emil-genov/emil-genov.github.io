---
layout: post
title: Creating WS from scratch
date: '2007-02-24T16:37:00.001+02:00'
author: Emo
tags: 
modified_time: '2007-02-24T16:44:10.219+02:00'
blogger_id: tag:blogger.com,1999:blog-7542889160674991776.post-1822167482436305828
blogger_orig_url: http://www.emil-genov.info/2007/02/creating-ws-from-scratch.html
---

<p></p> <p>In this case we just create our Java interface and implementation and annotate them with JSR-181 annotations. After this WSDL can be retrieved by going to http://&lt;server_name&gt;:8080/&lt;war_name&gt;/services/&lt;serviceName&gt;?wsdl  <p>Here is a step-by-step manual for doing this:  <ol> <li>First start as <b>normal POJO</b> object that implements functionality you need to expose as WS:  <blockquote><pre>package com.industria.order.validation;<br /><br />public class AllocatedResourceVerificationImpl implements AllocatedResourceVerification{<br /><br />	public void validate(String resourceId, String resourceName, String resourceValue) throws ValidationException{<br />		log.info("Invoked: "+resourceName);<br />	}<br />}</pre></blockquote><br /><li>Extract all functions needed into <b>interface</b>, this helps separate implementation from definition, and is always a good thing (TM) to program to interfaces, so we have <br /><blockquote><pre>package com.industria.order.validation;<br /><br />public interface AllocatedResourceVerification {<br /><br />    public void validate(String resourceId,String resourceName,String resourceValue) throws ValidationException;<br />}</pre></blockquote><br /><blockquote><pre>package com.industria.order.validation;<br /><br />public class AllocatedResourceVerificationImpl implements AllocatedResourceVerification{<br /><br />	public void validate(String resourceId, String resourceName, String resourceValue) throws ValidationException{<br />		log.info("Invoked: "+resourceName);<br />	}<br />}</pre></blockquote><br /><li><b>Anotate interface</b> - this is needed only if we gonna use XFire automatic handling of JSR181 annotated classes (see <a href="2007/02/exporting-webservice-using-xfire-with_5058.html">Exporting WebService - Using XFire with Spring and JSR181 Annotations</a>) <br /><ul><br /><li>Anotate interface with a <b>@WebService</b> anotation, the only nessesary parameter is <b>targetNamespace</b>, <br /><li>Anotate each method you want to expose with <b>@WebMethod</b> anotation <br /><li>If you want parameter of operations to have a names in WSDL, anotate them with <b>@WebParam</b> <br /><blockquote><pre>package com.industria.order.validation;<br /><br />import javax.jws.WebMethod;<br />import javax.jws.WebParam;<br />import javax.jws.WebService;<br /><br />@WebService(targetNamespace = "http://www.industria.com/contracts/Addons/Salesforce/OrderManager")<br />public interface AllocatedResourceVerification {<br /><br /><br />    @WebMethod<br />    public void validate(@WebParam(name = "resourceId")String resourceId,<br />    		@WebParam(name = "resourceName")String resourceName,<br />    		@WebParam(name = "resourceValue")String resourceValue) throws ValidationException;<br />}</pre></blockquote></li></ul><br /><li><strong>Anotate implementaion</strong> <br /><ul><br /><li>You must put @WebService anotation <br /><ul><br /><li>giving <b>serviceName</b> - this is name with which this service will be exported by XFire <br /><li>and <b>endpointInterface</b> - this is pointer to the interface we implement <br /><blockquote><pre>package com.industria.order.validation;<br /><br />import javax.jws.WebService;<br /><br />import org.apache.commons.logging.Log;<br />import org.apache.commons.logging.LogFactory;<br /><br />@WebService(serviceName = "AllocatedResourceVerification",<br />			endpointInterface = "com.industria.order.validation.AllocatedResourceVerification")<br />public class AllocatedResourceVerificationImpl implements AllocatedResourceVerification{<br /><br />	protected static final Log log = LogFactory.getLog(AllocatedResourceVerificationImpl.class);<br /><br />	public void validate(String resourceId, String resourceName, String resourceValue) throws ValidationException{<br />		log.info("Invoked: "+resourceName);<br />	}<br />}</pre></blockquote></li></ul></li></ul></li></ol>